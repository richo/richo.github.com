<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The std library documentation.">

    <title>std::io::timer::Timer - Rust</title>

    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,600'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../../../main.css">

    <link rel="shortcut icon" href="http://www.rust-lang.org/favicon.ico">
</head>
<body>
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    <section class="sidebar">
        
            <a href='../../../std/index.html'><img src='http://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png' alt='' width='100'></a>
        

        <p class='location'><a href='../../index.html'>std</a>&#8203;::<a href='../index.html'>io</a>&#8203;::<a href='index.html'>timer</a></p><div class='block struct'><h2>Structs</h2><a class='struct current' href='struct.Timer.html'>Timer</a><br/></div><div class='block fn'><h2>Functions</h2><a class='fn ' href='fn.sleep.html'>sleep</a><br/></div>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Search documentation..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'>Struct <a href='../../index.html'>std</a>::<a href='../index.html'>io</a>::<a href='index.html'>timer</a>::<a class='struct' href=''>Timer</a><a class='source' href='../../../src/std/src/libstd/io/timer.rs.html#67-69'>[src]</a></h1>
<pre class='rust struct'>pub struct Timer {
    // some fields omitted
}</pre><div class='docblock'><p>A synchronous timer object</p>

<p>Values of this type can be used to put the current task to sleep for a
period of time. Handles to this timer can also be created in the form of
receivers which will receive notifications over time.</p>

<h1 id="example" class='section-header'><a
                           href="#example">Example</a></h1><pre class='rust '>
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>io</span>::<span class='ident'>Timer</span>;

<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>timer</span> <span class='op'>=</span> <span class='ident'>Timer</span>::<span class='ident'>new</span>().<span class='ident'>unwrap</span>();
<span class='ident'>timer</span>.<span class='ident'>sleep</span>(<span class='number'>10</span>);<span class='comment'> // block the task for awhile

</span><span class='kw'>let</span> <span class='ident'>timeout</span> <span class='op'>=</span> <span class='ident'>timer</span>.<span class='ident'>oneshot</span>(<span class='number'>10</span>);<span class='comment'>
// do some work
</span><span class='ident'>timeout</span>.<span class='ident'>recv</span>();<span class='comment'> // wait for the timeout to expire

</span><span class='kw'>let</span> <span class='ident'>periodic</span> <span class='op'>=</span> <span class='ident'>timer</span>.<span class='ident'>periodic</span>(<span class='number'>10</span>);
<span class='kw'>loop</span> {
    <span class='ident'>periodic</span>.<span class='ident'>recv</span>();<span class='comment'>
    // this loop is only executed once every 10ms
</span>}
</pre>

<p>If only sleeping is necessary, then a convenience api is provided through
the <code>io::timer</code> module.</p>
<pre class='rust '>
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>io</span>::<span class='ident'>timer</span>;<span class='comment'>

// Put this task to sleep for 5 seconds
</span><span class='ident'>timer</span>::<span class='ident'>sleep</span>(<span class='number'>5000</span>);
</pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../../../std/io/timer/struct.Timer.html' title='std::io::timer::Timer'>Timer</a></code></h3><div class='methods'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class='type' href='../../../std/io/type.IoResult.html' title='std::io::IoResult'>IoResult</a>&lt;<a class='struct' href='../../../std/io/timer/struct.Timer.html' title='std::io::timer::Timer'>Timer</a>&gt;</code></h4>
<div class='docblock'><p>Creates a new timer which can be used to put the current task to sleep
for a number of milliseconds, or to possibly create channels which will
get notified after an amount of time has passed.</p>
</div><h4 id='method.sleep' class='method'><code>fn <a href='#method.sleep' class='fnname'>sleep</a>(&amp;mut self, msecs: u64)</code></h4>
<div class='docblock'><p>Blocks the current task for <code>msecs</code> milliseconds.</p>

<p>Note that this function will cause any other receivers for this timer to
be invalidated (the other end will be closed).</p>
</div><h4 id='method.oneshot' class='method'><code>fn <a href='#method.oneshot' class='fnname'>oneshot</a>(&amp;mut self, msecs: u64) -&gt; <a class='struct' href='../../../std/comm/struct.Receiver.html' title='std::comm::Receiver'>Receiver</a>&lt;()&gt;</code></h4>
<div class='docblock'><p>Creates a oneshot receiver which will have a notification sent when
<code>msecs</code> milliseconds has elapsed. This does <em>not</em> block the current
task, but instead returns immediately.</p>

<p>Note that this invalidates any previous receiver which has been created
by this timer, and that the returned receiver will be invalidated once
the timer is destroyed (when it falls out of scope).</p>
</div><h4 id='method.periodic' class='method'><code>fn <a href='#method.periodic' class='fnname'>periodic</a>(&amp;mut self, msecs: u64) -&gt; <a class='struct' href='../../../std/comm/struct.Receiver.html' title='std::comm::Receiver'>Receiver</a>&lt;()&gt;</code></h4>
<div class='docblock'><p>Creates a receiver which will have a continuous stream of notifications
being sent every <code>msecs</code> milliseconds. This does <em>not</em> block the
current task, but instead returns immediately. The first notification
will not be received immediately, but rather after <code>msec</code> milliseconds
have passed.</p>

<p>Note that this invalidates any previous receiver which has been created
by this timer, and that the returned receiver will be invalidated once
the timer is destroyed (when it falls out of scope).</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&uarr;</dt>
                <dd>Move up in search results</dd>
                <dt>&darr;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code> (or <code>str</code>), <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    <script>
        var rootPath = "../../../";
        var currentCrate = "std";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    <script async src="../../../search-index.js"></script>
</body>
</html>